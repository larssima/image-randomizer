<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Image Viewer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Left-side button panel -->
        <div class="button-container">
            <input id="imageDate" placeholder="Capture Date" readonly />
            <textarea id="imageTitle" placeholder="Image title..."></textarea>
            <button id="saveBtn" onclick="saveImageMetadata()">💾 Save Metadata</button>
            <input type="file" id="imageInput" accept="image/*" onchange="uploadImage()" />
            <button id="uploadBtn" onclick="document.getElementById('imageInput').click()">⬆️ Upload Image</button>

            <button onclick="loadRandomImage()">🔄 Random Image</button>
            <button id="autoViewBtn" onclick="toggleAutoView()">Auto View Off</button>
            <input type="number" id="intervalInput" placeholder="Seconds" min="1" value="10">
        </div>

        <!-- Image display frame -->
        <div class="image-container">
            <img id="randomImage" src="" alt="Random Image">
        </div>

        <script>
            // Show buttons only if URL contains '/edit'
            document.addEventListener('DOMContentLoaded', () => {
                const path = window.location.pathname;
                const saveBtn = document.getElementById('saveBtn');
                const uploadBtn = document.getElementById('uploadBtn');

                // Hide buttons by default
                if (saveBtn) saveBtn.style.display = 'none';
                if (uploadBtn) uploadBtn.style.display = 'none';
                if (intervalInput) intervalInput.style.display = 'none';

                // Show buttons if path includes '/edit'
                if (path.includes('/edit')) {
                    if (saveBtn) saveBtn.style.display = 'block';
                    if (uploadBtn) uploadBtn.style.display = 'block';
                    if (intervalInput) intervalInput.style.display = 'block';
                }
            });
        </script>        
    </div>

    <script src="script.js"></script>
</body>
</html>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Check if URL contains '/edit' and show buttons
        if (window.location.pathname.includes('/edit')) {
            document.querySelectorAll('#saveBtn, #uploadBtn').forEach(btn => {
                btn.style.display = 'inline-block';
            });
        }
    });
</script>
